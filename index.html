<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>會員登入</title>
</head>
<body>
  <h2>會員登入</h2>
  <input id="name" placeholder="Name（可選）"><br>
  <input id="phone" placeholder="Phone（可選）"><br>
  <button onclick="login()">登入</button>

  <script>
    async function login() {
      const name = document.getElementById("name").value.trim();
      const phone = document.getElementById("phone").value.trim();

      const payload = {
        UserID: "vaster",
        Password: "vaster@2673",
        Account_Name: name || "",
        HashPassword: ""
      };

      try {
        const response = await fetch("https://webapi.vastar.com.tw/api/Member/Login", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(payload)
        });

        const result = await response.json();
        console.log("API 回應：", result);

        if (response.ok && result?.success) {
          alert("登入成功！");
          // 可導向其他頁面
          // window.location.href = "/member/dashboard.html";
        } else {
          alert("登入失敗：" + (result.message || "請確認帳號密碼"));
        }
      } catch (error) {
        console.error("錯誤：", error);
        alert("發生錯誤：" + error.message);
      }
    }

    window.login = login;
  </script>
</body>
</html>
